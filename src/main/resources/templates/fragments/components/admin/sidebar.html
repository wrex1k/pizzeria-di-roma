<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<body>

<aside class="fixed left-0 top-0 bottom-0 w-64 bg-card border-r border-border z-40 flex flex-col"
       th:fragment="adminSidebar(activePath)">

    <!-- Header -->
    <div class="p-6 border-b border-border">
        <h2 class="text-2xl font-display font-bold text-primary"
            th:text="#{admin.sidebar.title}">
            Manager Dashboard
        </h2>
    </div>

    <nav class="p-4 space-y-2">
        <a class="flex items-center gap-3 px-4 py-3 rounded-lg transition-smooth w-full text-left"
           th:classappend="${activePath == 'pizzas'} ? ' bg-primary text-primary-foreground' : ' hover:bg-muted'"
           th:href="@{/admin/pizzas}">
            <svg class="lucide lucide-pizza h-5 w-5" fill="none" height="24" stroke="currentColor" stroke-linecap="round"
                 stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24"
                 xmlns="http://www.w3.org/2000/svg">
                <path d="m12 14-1 1"></path>
                <path d="m13.75 18.25-1.25 1.42"></path>
                <path d="M17.775 5.654a15.68 15.68 0 0 0-12.121 12.12"></path>
                <path d="M18.8 9.3a1 1 0 0 0 2.1 7.7"></path>
                <path d="M21.964 20.732a1 1 0 0 1-1.232 1.232l-18-5a1 1 0 0 1-.695-1.232A19.68 19.68 0 0 1 15.732 2.037a1 1 0 0 1 1.232.695z"></path>
            </svg>
            <span th:text="#{admin.sidebar.pizzas}">Pizzas</span>
        </a>

        <a class="flex items-center gap-3 px-4 py-3 rounded-lg transition-smooth w-full text-left"
           th:classappend="${activePath == 'ingredients'} ? ' bg-primary text-primary-foreground' : ' hover:bg-muted'"
           th:href="@{/admin/pizzas}">
            <svg class="lucide lucide-leaf h-5 w-5" fill="none" height="24" stroke="currentColor" stroke-linecap="round"
                 stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24"
                 xmlns="http://www.w3.org/2000/svg">
                <path d="M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z"></path>
                <path d="M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"></path>
            </svg>
            <span th:text="#{admin.sidebar.ingredients}">Ingredients</span>
        </a>

        <a class="flex items-center gap-3 px-4 py-3 rounded-lg transition-smooth w-full text-left"
           th:classappend="${activePath == 'orders'} ? ' bg-primary text-primary-foreground' : ' hover:bg-muted'"
           th:href="@{/admin/pizzas}">
            <svg class="lucide lucide-shopping-bag h-5 w-5" fill="none" height="24" stroke="currentColor" stroke-linecap="round"
                 stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24"
                 xmlns="http://www.w3.org/2000/svg">
                <path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"></path>
                <path d="M3 6h18"></path>
                <path d="M16 10a4 4 0 0 1-8 0"></path>
            </svg>
            <span th:text="#{admin.sidebar.orders}">Orders</span>
        </a>

        <a class="flex items-center gap-3 px-4 py-3 rounded-lg transition-smooth w-full text-left"
           th:classappend="${activePath == 'users'} ? ' bg-primary text-primary-foreground' : ' hover:bg-muted'"
           th:href="@{/admin/pizzas}">
            <svg class="lucide lucide-users h-5 w-5" fill="none" height="24" stroke="currentColor" stroke-linecap="round"
                 stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24"
                 xmlns="http://www.w3.org/2000/svg">
                <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
                <circle cx="9" cy="7" r="4"></circle>
                <path d="M22 21v-2a4 4 0 0 0-3-3.87"></path>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
            </svg>
            <span th:text="#{admin.sidebar.users}">Users</span>
        </a>

        <a class="flex items-center gap-3 px-4 py-3 rounded-lg transition-smooth w-full text-left"
           th:classappend="${activePath == 'company-info'} ? ' bg-primary text-primary-foreground' : ' hover:bg-muted'"
           th:href="@{/admin/company-info}">
            <svg class="lucide lucide-settings h-5 w-5" fill="none" height="24" stroke="currentColor" stroke-linecap="round"
                 stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24"
                 xmlns="http://www.w3.org/2000/svg">
                <path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"></path>
                <circle cx="12" cy="12" r="3"></circle>
            </svg>
            <span th:text="#{admin.sidebar.settings}">Settings</span>
        </a>

    </nav>

    <div class="mt-auto p-4 border-t border-border space-y-2">

        <!-- View site -->
        <a class="block" th:href="@{/}">
            <button class="w-full inline-flex items-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors
                           focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2
                           disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0
                           border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 justify-start"
                    type="button">
                <svg class="lucide lucide-package h-5 w-5 mr-2" fill="none" height="24" stroke="currentColor" stroke-linecap="round"
                     stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24"
                     xmlns="http://www.w3.org/2000/svg">
                    <path d="M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z"></path>
                    <path d="M12 22V12"></path>
                    <path d="m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7"></path>
                    <path d="m7.5 4.27 9 5.15"></path>
                </svg>
                <span th:text="#{admin.sidebar.viewSite}">View Site</span>
            </button>
        </a>

        <form class="m-0" method="post" th:action="@{/logout}">
            <input th:name="${_csrf.parameterName}" th:value="${_csrf.token}" type="hidden"/>
            <button class="w-full flex items-center gap-3 px-4 py-3 rounded-lg text-destructive hover:bg-accent hover:text-accent-foreground transition-smooth"
                    type="submit">
                <svg class="lucide lucide-log-out h-5 w-5" fill="none" height="24" stroke="currentColor" stroke-linecap="round"
                     stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24"
                     xmlns="http://www.w3.org/2000/svg">
                    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                    <polyline points="16 17 21 12 16 7"></polyline>
                    <line x1="21" x2="9" y1="12" y2="12"></line>
                </svg>
                <span class="text-sm font-medium" th:text="#{admin.sidebar.logout}">Logout</span>
            </button>
        </form>

    </div>
</aside>

</body>
</html>
