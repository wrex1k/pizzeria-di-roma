<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    <meta content="Experience authentic Italian pizza delivered to your door. Fresh ingredients, traditional recipes, modern convenience." name="description"
          th:attr="content=#{meta.description}">
    <meta content="pizza, italian food, delivery, authentic pizza, pizzeria, login, register" name="keywords"
          th:attr="content=#{auth.meta.keywords}">
    <meta content="Pizzeria di Roma" name="author" th:attr="content=#{meta.author}">

    <title th:text="#{auth.pageTitle}">Sign In - Pizzeria di Roma</title>

    <!-- Favicon -->
    <link rel="icon" th:href="@{/favicon.png}" type="image/png">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link crossorigin href="https://fonts.gstatic.com" rel="preconnect">
    <link
            href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Montserrat:wght@300;400;500;600;700&display=swap"
            rel="stylesheet">

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Tailwind Configuration -->
    <script>
        tailwind.config = {
            darkMode: ['class'],
            theme: {
                extend: {
                    fontFamily: {
                        display: ['Playfair Display', 'serif'],
                        sans: ['Montserrat', 'sans-serif'],
                    },
                    colors: {
                        border: 'hsl(30, 30%, 85%)',
                        input: 'hsl(30, 30%, 90%)',
                        ring: 'hsl(0, 70%, 51%)',
                        background: 'hsl(32, 65%, 95%)',
                        foreground: 'hsl(0, 0%, 11%)',
                        primary: {
                            DEFAULT: 'hsl(0, 70%, 51%)',
                            foreground: 'hsl(0, 0%, 100%)',
                        },
                        secondary: {
                            DEFAULT: 'hsl(32, 65%, 95%)',
                            foreground: 'hsl(0, 0%, 11%)',
                        },
                        destructive: {
                            DEFAULT: 'hsl(0, 70%, 51%)',
                            foreground: 'hsl(0, 0%, 100%)',
                        },
                        muted: {
                            DEFAULT: 'hsl(30, 40%, 88%)',
                            foreground: 'hsl(0, 0%, 45%)',
                        },
                        accent: {
                            DEFAULT: 'hsl(45, 98%, 60%)',
                            foreground: 'hsl(0, 0%, 11%)',
                        },
                        popover: {
                            DEFAULT: 'hsl(0, 0%, 100%)',
                            foreground: 'hsl(0, 0%, 11%)',
                        },
                        card: {
                            DEFAULT: 'hsl(0, 0%, 100%)',
                            foreground: 'hsl(0, 0%, 11%)',
                        },
                    },
                    borderRadius: {
                        lg: '0.75rem',
                        md: 'calc(0.75rem - 2px)',
                        sm: 'calc(0.75rem - 4px)',
                    },
                    keyframes: {
                        'scale-in': {
                            '0%': {opacity: '0', transform: 'scale(0.9)'},
                            '100%': {opacity: '1', transform: 'scale(1)'}
                        },
                        'fade-in': {
                            '0%': {opacity: '0', transform: 'translateY(10px)'},
                            '100%': {opacity: '1', transform: 'translateY(0)'}
                        },
                    },
                    animation: {
                        'scale-in': 'scale-in 0.3s ease-out',
                        'fade-in': 'fade-in 0.3s ease-out',
                    },
                }
            }
        }
    </script>

    <!-- Custom CSS -->
    <style>
        body {
            background-color: hsl(32, 65%, 95%);
        }

        .hero-gradient {
            background: linear-gradient(135deg, #D32F2F 0%, #C62828 100%);
        }

        .hero-gradient:hover {
            background: linear-gradient(135deg, #C62828 0%, #B71C1C 100%);
        }

        .transition-smooth {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .tab-button-active {
            background-color: white;
            color: hsl(0, 0%, 11%);
            box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
        }

        .tab-button-inactive {
            background-color: transparent;
            color: hsl(0, 0%, 45%);
        }

        .tab-content-hidden {
            display: none;
        }

        .show-password-btn {
            background: none;
            border: none;
            cursor: pointer;
            padding: 0;
        }

        input:focus {
            outline: none;
            border-color: hsl(0, 70%, 51%);
            box-shadow: 0 0 0 2px hsl(0, 70%, 51%);
        }

        #register-content::-webkit-scrollbar {
            width: 6px;
        }

        #register-content::-webkit-scrollbar-track {
            background: transparent;
        }

        #register-content::-webkit-scrollbar-thumb {
            background: hsl(0, 0%, 45%);
            border-radius: 3px;
        }

        #register-content::-webkit-scrollbar-thumb:hover {
            background: hsl(0, 70%, 51%);
        }

        #register-content h3 {
            border-bottom: 1px solid hsl(30, 30%, 85%);
            padding-bottom: 0.5rem;
            margin-bottom: 0.5rem;
        }
    </style>
</head>

<body class="font-sans">
<section class="min-h-screen flex items-center justify-center p-4 relative"
         style="background-image: url('/images/default-pizza.jpg'); background-size: cover; background-position: center;">
    <div class="absolute inset-0 bg-foreground/60 backdrop-blur-sm"></div>

    <!-- Back to Home Button -->
    <a class="absolute top-8 left-8 z-10 inline-flex items-center text-white hover:text-accent transition-smooth"
       th:href="@{/}"
       th:text="#{auth.backToHome}">
        Back to Home
    </a>

    <!-- Auth Card -->
    <div class="rounded-lg border bg-card text-card-foreground shadow-sm w-full max-w-md relative z-10 animate-scale-in">
        <!-- Card Header -->
        <div class="flex flex-col space-y-1.5 p-6 text-center">
            <h1 class="text-3xl font-display font-bold text-primary mb-2" th:text="#{brand.name}">Pizzeria di Roma</h1>
            <p class="text-sm text-muted-foreground" th:text="#{auth.card.subtitle}">Join us for authentic Italian
                pizza</p>
        </div>

        <!-- Card Content -->
        <div class="p-6 pt-0">
            <!-- Alert Messages -->
            <div class="mb-4 p-3 rounded-md bg-red-50 border border-red-200 text-red-800 text-sm"
                 th:if="${param.error}">
                <p th:text="#{auth.alert.invalidCredentials}">Invalid email or password. Please try again.</p>
            </div>

            <div class="mb-4 p-3 rounded-md bg-green-50 border border-green-200 text-green-800 text-sm"
                 th:if="${param.register}">
                <p th:text="#{auth.alert.registerSuccess}">Registration successful! Please login.</p>
            </div>

            <div class="mb-4 p-3 rounded-md bg-blue-50 border border-blue-200 text-blue-800 text-sm"
                 th:if="${param.logout}">
                <p th:text="#{auth.alert.logoutSuccess}">You have been logged out successfully.</p>
            </div>

            <!-- Tabs Container -->
            <div class="w-full">
                <!-- Tab Buttons -->
                <div class="h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground grid w-full grid-cols-2 mb-6"
                     role="tablist">
                    <button class="tab-button-active inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium transition-smooth" id="login-tab" onclick="showTab('login')"
                            th:text="#{auth.tab.login}"
                            type="button">
                        Login
                    </button>
                    <button class="tab-button-inactive inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium transition-smooth" id="register-tab" onclick="showTab('register')"
                            th:text="#{auth.tab.register}"
                            type="button">
                        Register
                    </button>
                </div>

                <!-- Login Tab Content -->
                <div class="animate-fade-in" id="login-content">
                    <form class="space-y-4" method="post" th:action="@{/login}">
                        <!-- CSRF Token -->
                        <input th:name="${_csrf.parameterName}" th:value="${_csrf.token}" type="hidden"/>

                        <!-- Email Field -->
                        <div class="space-y-2">
                            <label class="text-sm font-medium leading-none" for="login-email"
                                   th:text="#{auth.field.email}">Email</label>
                            <div class="relative">
                                <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4" fill="none" height="24" stroke="currentColor"
                                     stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"
                                     width="24"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <rect height="16" rx="2" width="20" x="2" y="4"></rect>
                                    <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path>
                                </svg>
                                <input class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 pl-10" id="login-email" name="email"
                                       placeholder="your@email.com"
                                       th:attr="placeholder=#{auth.placeholder.email}"
                                       type="text"/>
                            </div>
                        </div>

                        <!-- Password Field -->
                        <div class="space-y-2">
                            <label class="text-sm font-medium leading-none" for="login-password"
                                   th:text="#{auth.field.password}">Password</label>
                            <div class="relative">
                                <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4" fill="none" height="24" stroke="currentColor"
                                     stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"
                                     width="24"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <rect height="11" rx="2" ry="2" width="18" x="3" y="11"></rect>
                                    <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                                </svg>
                                <input class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 pl-10 pr-10" id="login-password" name="password"
                                       placeholder="••••••••"
                                       th:attr="placeholder=#{auth.placeholder.password}"
                                       type="password"/>
                                <button class="show-password-btn absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground" onclick="togglePassword('login-password', 'login-eye-icon')"
                                        th:attr="aria-label=#{auth.aria.togglePassword}"
                                        type="button">
                                    <svg class="h-4 w-4" fill="none" height="24"
                                         id="login-eye-icon" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                         stroke-width="2" viewBox="0 0 24 24" width="24"
                                         xmlns="http://www.w3.org/2000/svg">
                                        <path d="M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"></path>
                                        <circle cx="12" cy="12" r="3"></circle>
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <!-- Remember Me & Forgot Password -->
                        <div class="flex justify-end">
                            <button class="text-primary text-sm hover:underline transition-smooth" th:text="#{auth.forgotPassword}"
                                    type="button">
                                Forgot password?
                            </button>
                        </div>

                        <!-- Submit Button -->
                        <button class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 h-11 rounded-md px-8 w-full hero-gradient text-white"
                                th:text="#{auth.btn.signIn}"
                                type="submit">
                            Sign In
                        </button>
                    </form>
                </div>

                <!-- Register Tab Content -->
                <div class="tab-content-hidden animate-fade-in" id="register-content">
                    <form class="space-y-4" method="post" th:action="@{/register}" th:object="${user}">
                        <!-- CSRF Token -->
                        <input th:name="${_csrf.parameterName}" th:value="${_csrf.token}" type="hidden"/>

                        <!-- First Name Field -->
                        <div class="space-y-2">
                            <label class="text-sm font-medium leading-none" for="register-firstname"
                                   th:text="#{auth.field.firstName}">First Name</label>
                            <div class="relative">
                                <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4" fill="none" height="24" stroke="currentColor"
                                     stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"
                                     width="24"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
                                    <circle cx="12" cy="7" r="4"></circle>
                                </svg>
                                <input class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 pl-10" id="register-firstname" placeholder="John"
                                       th:attr="placeholder=#{auth.placeholder.firstName}"
                                       th:classappend="${#fields.hasErrors('firstName')} ? 'border-red-500' : ''"
                                       th:field="*{firstName}"
                                       type="text"/>
                            </div>
                            <p class="text-xs text-red-600 mt-1" th:errors="*{firstName}"
                               th:if="${#fields.hasErrors('firstName')}"></p>
                        </div>

                        <!-- Last Name Field -->
                        <div class="space-y-2">
                            <label class="text-sm font-medium leading-none" for="register-lastname"
                                   th:text="#{auth.field.lastName}">Last Name</label>
                            <div class="relative">
                                <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4" fill="none" height="24" stroke="currentColor"
                                     stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"
                                     width="24"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
                                    <circle cx="12" cy="7" r="4"></circle>
                                </svg>
                                <input class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 pl-10" id="register-lastname" placeholder="Doe"
                                       th:attr="placeholder=#{auth.placeholder.lastName}"
                                       th:classappend="${#fields.hasErrors('lastName')} ? 'border-red-500' : ''"
                                       th:field="*{lastName}"
                                       type="text"/>
                            </div>
                            <p class="text-xs text-red-600 mt-1" th:errors="*{lastName}"
                               th:if="${#fields.hasErrors('lastName')}"></p>
                        </div>

                        <!-- Email Field -->
                        <div class="space-y-2">
                            <label class="text-sm font-medium leading-none" for="register-email"
                                   th:text="#{auth.field.email}">Email</label>
                            <div class="relative">
                                <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4" fill="none" height="24" stroke="currentColor"
                                     stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"
                                     width="24"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <rect height="16" rx="2" width="20" x="2" y="4"></rect>
                                    <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path>
                                </svg>
                                <input class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 pl-10" id="register-email" placeholder="your@email.com"
                                       th:attr="placeholder=#{auth.placeholder.email}"
                                       th:classappend="${#fields.hasErrors('email')} ? 'border-red-500' : ''"
                                       th:field="*{email}"
                                       type="text"/>
                            </div>
                            <p class="text-xs text-red-600 mt-1" th:errors="*{email}"
                               th:if="${#fields.hasErrors('email')}"></p>
                        </div>

                        <!-- Phone Field -->
                        <div class="space-y-2">
                            <label class="text-sm font-medium leading-none" for="register-phone"
                                   th:text="#{auth.field.phone}">Phone</label>
                            <div class="relative">
                                <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4" fill="none" height="24" stroke="currentColor"
                                     stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"
                                     width="24"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <rect height="16" rx="2" width="20" x="2" y="4"></rect>
                                    <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path>
                                </svg>
                                <input class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 pl-10" id="register-phone" placeholder="+421 900 123 456"
                                       th:attr="placeholder=#{auth.placeholder.phone}"
                                       th:classappend="${#fields.hasErrors('phone')} ? 'border-red-500' : ''"
                                       th:field="*{phone}"
                                       type="text"/>
                            </div>
                            <p class="text-xs text-red-600 mt-1" th:errors="*{phone}"
                               th:if="${#fields.hasErrors('phone')}"></p>
                        </div>

                        <!-- Password Field -->
                        <div class="space-y-2">
                            <label class="text-sm font-medium leading-none" for="register-password"
                                   th:text="#{auth.field.password}">Password</label>
                            <div class="relative">
                                <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4" fill="none" height="24" stroke="currentColor"
                                     stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"
                                     width="24"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <rect height="11" rx="2" ry="2" width="18" x="3" y="11"></rect>
                                    <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                                </svg>
                                <input class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 pl-10 pr-10" id="register-password" placeholder="Min. 8 characters"
                                       th:attr="placeholder=#{auth.placeholder.passwordHint}"
                                       th:classappend="${#fields.hasErrors('password')} ? 'border-red-500' : ''"
                                       th:field="*{password}"
                                       type="password"/>
                                <button class="show-password-btn absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"
                                        onclick="togglePassword('register-password', 'register-eye-icon')"
                                        th:attr="aria-label=#{auth.aria.togglePassword}"
                                        type="button">
                                    <svg class="h-4 w-4" fill="none" height="24"
                                         id="register-eye-icon" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                         stroke-width="2" viewBox="0 0 24 24" width="24"
                                         xmlns="http://www.w3.org/2000/svg">
                                        <path d="M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"></path>
                                        <circle cx="12" cy="12" r="3"></circle>
                                    </svg>
                                </button>
                            </div>
                            <p class="text-xs text-red-600 mt-1" th:errors="*{password}"
                               th:if="${#fields.hasErrors('password')}"></p>
                        </div>

                        <!-- Confirm Password Field -->
                        <div class="space-y-2">
                            <label class="text-sm font-medium leading-none" for="register-confirm-password"
                                   th:text="#{auth.field.confirmPassword}">Confirm Password</label>
                            <div class="relative">
                                <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4" fill="none" height="24" stroke="currentColor"
                                     stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"
                                     width="24"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <rect height="11" rx="2" ry="2" width="18" x="3" y="11"></rect>
                                    <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                                </svg>
                                <input class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 pl-10 pr-10" id="register-confirm-password" placeholder="Repeat password"
                                       th:attr="placeholder=#{auth.placeholder.confirmPassword}"
                                       th:classappend="${#fields.hasErrors('confirmPassword')} ? 'border-red-500' : ''"
                                       th:field="*{confirmPassword}"
                                       type="password"/>
                                <button class="show-password-btn absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"
                                        onclick="togglePassword('register-confirm-password', 'register-confirm-eye-icon')"
                                        th:attr="aria-label=#{auth.aria.togglePassword}"
                                        type="button">
                                    <svg class="h-4 w-4" fill="none"
                                         height="24" id="register-confirm-eye-icon" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                         stroke-width="2" viewBox="0 0 24 24" width="24"
                                         xmlns="http://www.w3.org/2000/svg">
                                        <path d="M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"></path>
                                        <circle cx="12" cy="12" r="3"></circle>
                                    </svg>
                                </button>
                            </div>
                            <p class="text-xs text-red-600 mt-1" th:errors="*{confirmPassword}"
                               th:if="${#fields.hasErrors('confirmPassword')}"></p>
                        </div>

                        <!-- Terms & Conditions / Privacy Policy -->
                        <div class="flex items-start space-x-2 pt-2">
                            <input class="mt-1 h-4 w-4 rounded border-primary text-primary focus:ring-primary" id="register-terms" th:classappend="${#fields.hasErrors('termsAccepted')} ? 'border-red-500' : ''"
                                   th:field="*{termsAccepted}"
                                   type="checkbox">
                            <label class="text-sm leading-relaxed" for="register-terms">
                                <span th:text="#{auth.terms.prefix}">I agree to the</span>
                                <a class="text-primary hover:underline font-medium" href="/terms"
                                   th:text="#{auth.terms.terms}">Terms & Conditions</a>
                                <span th:text="#{auth.terms.and}">and</span>
                                <a class="text-primary hover:underline font-medium" href="/privacy"
                                   th:text="#{auth.terms.privacy}">Privacy Policy</a>
                            </label>
                        </div>
                        <p class="text-xs text-red-600 mt-1" th:errors="*{termsAccepted}"
                           th:if="${#fields.hasErrors('termsAccepted')}"></p>

                        <!-- Submit Button -->
                        <button class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 h-11 rounded-md px-8 w-full hero-gradient text-white"
                                th:text="#{auth.btn.createAccount}"
                                type="submit">
                            Create Account
                        </button>

                        <p class="text-xs text-center text-muted-foreground pt-1">
                            <span th:text="#{auth.alreadyHaveAccount}">Already have an account?</span>
                            <button class="text-primary hover:underline font-medium" onclick="showTab('login')"
                                    th:text="#{auth.signInHere}"
                                    type="button">
                                Sign in here
                            </button>
                        </p>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- JavaScript for Tab Switching and Password Toggle -->
<script>
    function showTab(tabName) {
        const loginTab = document.getElementById('login-tab');
        const registerTab = document.getElementById('register-tab');
        const loginContent = document.getElementById('login-content');
        const registerContent = document.getElementById('register-content');

        if (tabName === 'login') {
            loginTab.classList.remove('tab-button-inactive');
            loginTab.classList.add('tab-button-active');
            registerTab.classList.remove('tab-button-active');
            registerTab.classList.add('tab-button-inactive');

            loginContent.classList.remove('tab-content-hidden');
            registerContent.classList.add('tab-content-hidden');

            window.history.pushState({}, '', '/login');
        } else {
            registerTab.classList.remove('tab-button-inactive');
            registerTab.classList.add('tab-button-active');
            loginTab.classList.remove('tab-button-active');
            loginTab.classList.add('tab-button-inactive');

            registerContent.classList.remove('tab-content-hidden');
            loginContent.classList.add('tab-content-hidden');

            window.history.pushState({}, '', '/register');
        }
    }

    function togglePassword(inputId, iconId) {
        const input = document.getElementById(inputId);
        const icon = document.getElementById(iconId);

        if (input.type === 'password') {
            input.type = 'text';
            icon.innerHTML = `
                <path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"></path>
                <path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"></path>
                <path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"></path>
                <line x1="2" x2="22" y1="2" y2="22"></line>
            `;
        } else {
            input.type = 'password';
            icon.innerHTML = `
                <path d="M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"></path>
                <circle cx="12" cy="12" r="3"></circle>
            `;
        }
    }

    window.addEventListener('DOMContentLoaded', () => {
        const urlParams = new URLSearchParams(window.location.search);
        const currentPath = window.location.pathname;

        const hasRegisterErrors = document.querySelector('#register-content .text-red-600') !== null;

        if (currentPath.includes('/register') || hasRegisterErrors || urlParams.get('tab') === 'register') {
            showTab('register');
        } else {
            showTab('login');
        }
    });
</script>
</body>

</html>